> Если читаете файл в VSCode — нажмите ctrl+shift+v, чтобы включить режим просмотра. Для macOS — cmd+shift+v.

# Микроархитектура компьютера

Соберите HDL схемы в следующей последовательности:

1. [Программный счетчик (program counter — PC)](counter/PC.hdl)
2. [Процессор (CPU)](CPU/CPU.hdl)
3. [Память](memory/Memory.hdl)
4. [Компьютер](computer/Computer.hdl)

## Программный счетчик (program counter — PC)

N-битный счетчик состоит из N-битного регистра, инкрементора и комбинационной логики.

## Процессор (CPU)

[Читайте подробности в отдельной инструкции](CPU/README.md)

## Память (Memory)

Память состоит из трех чипов: RAM16K, Screen, Keyboard. Каждому чипу отведем сегмент регистров.

Сегмент RAM16K занимает регистры с 0 по 16383 включительно. Когда обращаешься в память по адресу, например, 832 — попадаешь в RAM16K чип. Пример использования RAM чипа: `RAM16K(in=in, load=load, address=address, out=out);`.

Сегмент Screen (экран) занимает регистры с 16384 по 24575 включительно. Когда обращаешься в память по адресу, например, 22123 — попадаешь в Screen чип. Пример использования чипа Screen: `Screen(in=in, load=load, address=address, out=out);`.

Сегмент Keyboard (клавиатура) занимает 24576 регистр. Когда обращаешься в память по адресу 24576 — попадаешь в Keyboard чип. Пример использования чипа Keyboard: `Keyboard(out=output);`. У чипа клавиатуры нет инпутов, только аутпут. В аутпуте передается скан-код нажатой клавиши.

Доступ к адресам вне сегментов, например к 24577 регистру, считается невалидным и никак не обрабатывается.

## Компьютер

Компьютер = память + процессор.

Наш компьютер собирается по гарвардской архитектуре. У него два чипа памяти: память данных (Memory) и память инструкций (ROM). Память данных содержит не только данные, но и MMIO сегменты экрана и клавиатуры.
